{"version":3,"file":"metadataBuilder.js","sourceRoot":"","sources":["../../src/utils/metadataBuilder.ts"],"names":[],"mappings":";AAAA,qCAA2C;AAK9B,QAAA,QAAQ,GAAG,0BAA0B,CAAC;AACtC,QAAA,mBAAmB,GAAG,cAAc,CAAC;AAElD;;GAEG;AACH;IAIE,yBAAmB,OAAsB,EAAE,QAAkB;QAC3D,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;QACxB,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC;IAChC,CAAC;IAED,YAAY;IACL,wCAAc,GAArB;QACE,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,IAAI,EAAE,CAAC;QACxD,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;IACnD,CAAC;IAED,YAAY;IACJ,qCAAW,GAAnB;QACE,OAAO;YACL,IAAI,EAAE,gBAAQ;YACd,OAAO,EAAE,kBAAW;YACpB,QAAQ,EAAE,IAAI,CAAC,YAAY,EAAE;SAC9B,CAAC;IACJ,CAAC;IAED,YAAY;IACJ,sCAAY,GAApB;QACE,OAAO,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,UAAC,OAAe;YAC5C,OAAO;gBACL,IAAI,EAAE,2BAAmB,GAAG,OAAO;gBACnC,OAAO,EAAE,kBAAW;aACrB,CAAC;QACJ,CAAC,CAAC,CAAC;IACL,CAAC;IACH,sBAAC;AAAD,CAAC,AAjCD,IAiCC;AAjCY,0CAAe","sourcesContent":["import { SDK_VERSION } from '@sentry/core';\nimport { Package, SdkInfo } from '@sentry/types';\n\nimport { NextjsOptions } from './nextjsOptions';\n\nexport const SDK_NAME = 'sentry.javascript.nextjs';\nexport const PACKAGE_NAME_PREFIX = 'npm:@sentry/';\n\n/**\n * A builder for the SDK metadata in the options for the SDK initialization.\n */\nexport class MetadataBuilder {\n  private _options: NextjsOptions;\n  private _packageNames: string[];\n\n  public constructor(options: NextjsOptions, packages: string[]) {\n    this._options = options;\n    this._packageNames = packages;\n  }\n\n  /** JSDoc */\n  public addSdkMetadata(): void {\n    this._options._metadata = this._options._metadata || {};\n    this._options._metadata.sdk = this._getSdkInfo();\n  }\n\n  /** JSDoc */\n  private _getSdkInfo(): SdkInfo {\n    return {\n      name: SDK_NAME,\n      version: SDK_VERSION,\n      packages: this._getPackages(),\n    };\n  }\n\n  /** JSDoc */\n  private _getPackages(): Package[] {\n    return this._packageNames.map((pkgName: string) => {\n      return {\n        name: PACKAGE_NAME_PREFIX + pkgName,\n        version: SDK_VERSION,\n      };\n    });\n  }\n}\n"]}